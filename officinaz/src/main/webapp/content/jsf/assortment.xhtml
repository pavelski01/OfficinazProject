<?xml version="1.0" encoding="iso-8859-2"?>
<!DOCTYPE html>
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
  	xmlns:f="http://java.sun.com/jsf/core"
  	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:composition template="../template/main-template.xhtml">
 		<ui:define name="title">Assortment</ui:define>
		<ui:define name="logo">Assortment</ui:define>
		<ui:define name="content">
			<div class="content">
				<div class="title">In stock:</div>
				<div class="text">
					<form method="post" action="../../cart.do">
						<table style="border: 2px solid #000;">								
							<c:set var="index" scope="page" value="0"/>
							<c:forEach var="element" items="${sessionScope.assortment}" varStatus ="status">
								<c:set var="index" value="${pageScope.index + 1}" scope="page"/>
								<tr>
									<td>${pageScope.index}</td>
									<td>"${pageScope.element.value.name}"</td>                               
									<td>unit price:</td>
									<td style="text-align: right">${pageScope.element.value.price}</td>
									<td style="text-align: right">PLN</td>
									<td style="text-align: right">${pageScope.element.value.quantity}</td>
									<td>price</td>
									<td>
										<input type="number" size="4" name="obj${pageScope.element.key}/purchased" value="0"/>
									</td>
								</tr>
								<tr>
									<td>
										<input type="hidden" name="obj${pageScope.element.key}/map" value="${pageScope.element.key}"/>
									</td>
									<td>
										<input type="hidden" name="obj${pageScope.element.key}/name" value="${pageScope.element.value.name}"/>
									</td>
									<td>
										<input type="hidden" name="obj${pageScope.element.key}/id" value="${pageScope.element.value.id}"/>
									</td>
									<td>
										<input type="hidden" name="obj${pageScope.element.key}/price" value="${pageScope.element.value.price}"/>
									</td>
									<td>
										<input type="hidden" name="obj${pageScope.element.key}/quantity" value="${pageScope.element.value.quantity}"/>
									</td>
								</tr>
							</c:forEach>
							<tr>
								<td>								 
									<input type="hidden" name="counted" value="${sessionScope.counted}"/>
								</td>
								<td>
									<input type="hidden" name="assortmentNumber" value="${sessionScope.assortmentNumber}"/>
								</td>
							</tr>
							<tr>
								<td colspan="7"/>
								<td style="text-align: center;">
									<input type="submit" value="Buy"/>
								</td>
							</tr>
						</table>
					</form>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</html>